let bddReq;_834‍.x([["default",()=>_834‍.o]]);_834‍.w("../database/userDb",[["default",["bddReq"],function(v){bddReq=v}]]);


// =============================================================================
// connection base de donner get recup users
// =============================================================================

const getU = async(req, res) => {

    let result = await bddReq.getUsersList();
    res.status(200).render('pages/usersListe' ,{result});

};

// =============================================================================
// recup user par ID ok ---GET----
// =============================================================================
const getUserByID = async(req, res) => {

    const {id} = req.params;
    let result = await bddReq.getUserId(id);
    const us = {users:result.rows}
    const info = us.users[0];
    res.status(200).render('pages/user',{info});

};


// =============================================================================
// delete by Id ---delete---
// =============================================================================

const delUser = async (req, res) => {
    const {id} = req.params;
    let del = await bddReq.deleteUser(id);
    _834‍.g.console.log(del);
    res.status(200).render('pages/user', {del});
};


// =============================================================================
//  add user ok postman   ----PUT-----
// =============================================================================
const inserUser = async(req,res) => {
    _834‍.g.console.log(req.body);
    const {name,password} = req.body;
    await bddReq.insUser(name,password);
    res.status(200).send('user ajouter avec success');
};

// =============================================================================
// modifrication ---POST-----
// =============================================================================






_834‍.d({

    getU,
    getUserByID,
    inserUser,
    delUser
    
    });  